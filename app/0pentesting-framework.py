#!/usr/bin/env python3
#-*- encoding: UTF-8 -*-

#Program imports
import os, time, logging, subprocess
from tqdm import tqdm

class color:
    HEADER = '\033[95m'
    IMPORTANT = '\33[35m'
    NOTICE = '\033[33m'
    BLUE = '\033[94m'
    GREEN = '\033[92m'
    WARNING = '\033[93m'
    RED = '\033[91m'
    END = '\033[0m'
    UNDERLINE = '\033[4m'
    LOGGING = '\33[34m'

os.system("clear")
print(color.HEADER + """

        ┏━━━┓╋╋╋╋╋╋╋╋╋╋┏━━━━┓╋╋╋╋┏┓
        ┃┏━┓┃╋╋╋╋╋╋╋╋╋╋┃┏┓┏┓┃╋╋╋┏┛┗┓
        ┃┃┃┃┣━━┳━━┳━┓╋╋┗┛┃┃┣┻━┳━┻┓┏╋┳━┓┏━━┓
        ┃┃┃┃┃┏┓┃┃━┫┏┓┳━━┓┃┃┃┃━┫━━┫┃┣┫┏┓┫┏┓┃
        ┃┗━┛┃┗┛┃┃━┫┃┃┣━━┛┃┃┃┃━╋━━┃┗┫┃┃┃┃┗┛┃
        ┗━━━┫┏━┻━━┻┛┗┛╋╋╋┗┛┗━━┻━━┻━┻┻┛┗┻━┓┃
        ╋╋╋╋┃┃╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋┏━┛┃
        ╋╋╋╋┗┛╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋┗━━┛
""" + color.END + """   
    - From ZeroPenSecurity
    - version 1 - WHITE-SPACE
    - Beta

""")

logo = color.HEADER + """

        ┏━━━┓╋╋╋╋╋╋╋╋╋╋┏━━━━┓╋╋╋╋┏┓
        ┃┏━┓┃╋╋╋╋╋╋╋╋╋╋┃┏┓┏┓┃╋╋╋┏┛┗┓
        ┃┃┃┃┣━━┳━━┳━┓╋╋┗┛┃┃┣┻━┳━┻┓┏╋┳━┓┏━━┓
        ┃┃┃┃┃┏┓┃┃━┫┏┓┳━━┓┃┃┃┃━┫━━┫┃┣┫┏┓┫┏┓┃
        ┃┗━┛┃┗┛┃┃━┫┃┃┣━━┛┃┃┃┃━╋━━┃┗┫┃┃┃┃┗┛┃
        ┗━━━┫┏━┻━━┻┛┗┛╋╋╋┗┛┗━━┻━━┻━┻┻┛┗┻━┓┃
        ╋╋╋╋┃┃╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋┏━┛┃
        ╋╋╋╋┗┛╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋╋┗━━┛
               """ + color.END + color.NOTICE + """ᶠʳᵒᵐ""" + color.END + color.WARNING + """  ᶻᵉʳᵒ ᵖᵉⁿ ˢᵉᶜᵘʳⁱᵗʸ""" + color.END + """   
    
    - version 1 - WHITE-SPACE
    - To start type '""" + color.UNDERLINE + color.BLUE + """help""" + color.END + """', enter '""" + color.UNDERLINE + color.GREEN + """interactive-mode""" + color.END + """' for GUI

"""

#def 

def clearscr():
    print(logo)
    os.system("clear")

def help_menu():
    print("test menu")

def interactive_mode():
    os.system("python3 dist/interactive.py")

with tqdm(total=3, desc="Starting application...   ", bar_format="{l_bar}{bar} [ time left: {remaining} ]") as pbar:

    os.system("python3 dist/prereq.py")
    time.sleep(1)
    pbar.update(1)
    os.system("python3 dist/update_mgr.py")
    time.sleep(1)
    pbar.update(1)
    os.popen("python3 dist/start_webserver.py 0")
    pbar.update(1)
    time.sleep(1)

print("Program loaded! One moment please...")
time.sleep(2)
clearscr()

print(logo)
while 1 == 1:
    ccli = input(color.UNDERLINE + color.HEADER + "0penTesting-cli" + color.END + color.NOTICE + "$>  " + color.END)
    if ccli == "help":
        help_menu()
    elif ccli == "interactive-mode":
        interactive_mode()
    elif ccli == "clear" or "cls":
        clearscr()
    elif ccli == "\r" or ccli == "\n" or ccli == "" or ccli == " ":
        pass
